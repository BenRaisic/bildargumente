import{S as Ee,i as Pe,s as Se,k as q,q as x,a as Y,l as A,m as O,r as ee,h as m,c as Q,n as h,b as P,G as M,u as be,H as j,I as ie,o as Re,R as se,L as Ve,M as R,T as Qe,N as ze,j as zt,U as qt,e as W,J as qe,V as We,W as Ge,w as we,K as Xe,g as C,v as fe,d as U,f as ue,y as he,z as me,A as pe,B as ge,X as ye,Y as Ie,Z as He,_ as Bt,O as Gt,p as je}from"../chunks/index.7c5e5199.js";import{b as ce,m as Ft,e as Ut,t as De,a as Le,i as Be,c as Wt}from"../chunks/setup.c089b68f.js";import{w as ve}from"../chunks/singletons.1f1b9bbe.js";import{p as Xt}from"../chunks/stores.706abd8b.js";const Ht=async({fetch:i})=>({posts:await(await i("/api/posts")).json()}),Jt=()=>[{slug:"template"}],Xl=Object.freeze(Object.defineProperty({__proto__:null,entries:Jt,load:Ht},Symbol.toStringTag,{value:"Module"})),Ze=ve(""),Je=ve(""),Ne=ve(!1),$e=ve([]),de=ve([]),Fe=ve([]),Ue=ve(0);function xe(i){let e,l=i[0].meta.author+"",t;return{c(){e=q("div"),t=x(l),this.h()},l(s){e=A(s,"DIV",{class:!0});var n=O(e);t=ee(n,l),n.forEach(m),this.h()},h(){h(e,"class","author svelte-tmt4fa")},m(s,n){P(s,e,n),M(e,t)},p(s,n){n&1&&l!==(l=s[0].meta.author+"")&&be(t,l)},d(s){s&&m(e)}}}function et(i){var s;let e,l=((s=new Date(i[0].meta.date))==null?void 0:s.toLocaleDateString(i[0].meta.lang))+"",t;return{c(){e=q("div"),t=x(l),this.h()},l(n){e=A(n,"DIV",{class:!0});var a=O(e);t=ee(a,l),a.forEach(m),this.h()},h(){h(e,"class","date svelte-tmt4fa")},m(n,a){P(n,e,a),M(e,t)},p(n,a){var r;a&1&&l!==(l=((r=new Date(n[0].meta.date))==null?void 0:r.toLocaleDateString(n[0].meta.lang))+"")&&be(t,l)},d(n){n&&m(e)}}}function Yt(i){var f,_;let e,l=i[0].meta.title+"",t,s,n,a,r,u,c=((f=i[0].meta)==null?void 0:f.author)&&xe(i),o=((_=i[0].meta)==null?void 0:_.date)&&et(i);return{c(){e=q("h1"),t=x(l),s=Y(),n=q("div"),c&&c.c(),a=Y(),o&&o.c(),r=Y(),u=q("div"),this.h()},l(d){e=A(d,"H1",{class:!0});var I=O(e);t=ee(I,l),I.forEach(m),s=Q(d),n=A(d,"DIV",{class:!0});var T=O(n);c&&c.l(T),a=Q(T),o&&o.l(T),T.forEach(m),r=Q(d),u=A(d,"DIV",{class:!0});var N=O(u);N.forEach(m),this.h()},h(){h(e,"class","svelte-tmt4fa"),h(n,"class","metadata svelte-tmt4fa"),h(u,"class","markdown svelte-tmt4fa")},m(d,I){P(d,e,I),M(e,t),P(d,s,I),P(d,n,I),c&&c.m(n,null),M(n,a),o&&o.m(n,null),P(d,r,I),P(d,u,I),u.innerHTML=i[1]},p(d,[I]){var T,N;I&1&&l!==(l=d[0].meta.title+"")&&be(t,l),(T=d[0].meta)!=null&&T.author?c?c.p(d,I):(c=xe(d),c.c(),c.m(n,a)):c&&(c.d(1),c=null),(N=d[0].meta)!=null&&N.date?o?o.p(d,I):(o=et(d),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:j,o:j,d(d){d&&m(e),d&&m(s),d&&m(n),c&&c.d(),o&&o.d(),d&&m(r),d&&m(u)}}}const Qt=/\[\^([^\]]+)\]/g;let Zt=100;function Kt(i){const e=i.currentTarget.getAttribute("data-id"),l=document.querySelector(`.node[data-id="${e}"]`);l&&l.classList.add("hover"),i.currentTarget.classList.add("hover")}function Rt(i){const e=i.currentTarget.getAttribute("data-id"),l=document.querySelector(`.node[data-id="${e}"]`);l&&l.classList.remove("hover"),i.currentTarget.classList.remove("hover")}function jt(i,e,l){const t=l-e;return(i-e)/t*100}function $t(i,e,l){const t=l-e;return e+t*i/100}function xt(i,e,l){let t,s;ie(i,Ne,p=>l(8,t=p)),ie(i,Ze,p=>l(9,s=p));let{data:n}=e,{items:a}=e,{scrollTopVal:r}=e,u=n.text,c=1;const f=u.replace(/<a\s+href="([^"]+)"\s*>([^<]+)<\/a>/g,(p,b,y)=>{if(b.startsWith("http"))return`<a class="external" target="_blank" href="${b}" title="${y}">${y}</a>`;{let w=b.split("/")[1];return`<a class="node-highlite" unique-id="${w}" id="${b.split("/")[1]}"
				data-id="${b.split("/")[1]}" title="${y}">${y}
				<span class="symbol node" unique-id="${w}" data-id="item_${b.split("/")[1]}"
				data-class="${a.filter(E=>E.label==y).map(E=>{var D,F;return(F=(D=E.data)==null?void 0:D["@type"])==null?void 0:F[1]})}">
					●
					</span></a>`}}).replace(Qt,(p,b)=>{const y=c++;return`<sup id="fn-${y}"><a href="#fnref-${y}">${y}</a></sup><span id="fn-${y}-content">${b}</span>`}),_=Array.from({length:c-1},(p,b)=>{var E;const y=b+1,w=(E=f.match(new RegExp(`<span id="fn-${y}-content">([^<]+)</span>`)))==null?void 0:E[1];return`<li id="fnref-${y}"> ${w}</li>`}).join(""),d=`${f}
	<ol class="biblio">${_}</ol>`;let I;Re(async()=>{l(4,I=document==null?void 0:document.querySelectorAll(".markdown a[data-id]")),N(I),I.forEach(p=>{p.addEventListener("mouseenter",Kt),p.addEventListener("mouseleave",Rt),p.addEventListener("click",T)})});function T(p){I.forEach(w=>{const E=w.getAttribute("data-id"),D=document.querySelector(`.node[data-id="${E}"]`);D&&D.classList.remove("clicked"),w.classList.remove("clicked")});const b=p.currentTarget.getAttribute("data-id"),y=document.querySelector(`.node[data-id="${b}"]`);y&&y.classList.toggle("clicked"),p.currentTarget.classList.toggle("clicked"),se(Ze,s=b,s)}function N(p){let b=null;l(4,I=Array.from(p).map(y=>{let w=y.offsetTop;return b!==null&&w<=b?y.adjustedOffsetTop=b+Zt:y.adjustedOffsetTop=w,b=y.adjustedOffsetTop,y}))}let L=0;function V(p,b){var y,w,E,D,F,G;if(!t){let S=(y=p==null?void 0:p[L])==null?void 0:y.adjustedOffsetTop,X=(w=p==null?void 0:p[L+1])==null?void 0:w.adjustedOffsetTop,Z=(E=p==null?void 0:p[L])==null?void 0:E.getAttribute("data-id"),le=(D=p==null?void 0:p[L+1])==null?void 0:D.getAttribute("data-id"),B=(F=document.querySelector(`.node[data-id="${Z}"]`))==null?void 0:F.offsetTop,$=(G=document.querySelector(`.node[data-id="${le}"]`))==null?void 0:G.offsetTop,g=jt(b,S,X),v=$t(g,B,$);b>X&&L++,b<S&&L!=0&&L--;const k=document.querySelector(".links:first-of-type");S&&X&&k&&g&&v&&(k==null||k.scrollTo({top:v}))}}return i.$$set=p=>{"data"in p&&l(0,n=p.data),"items"in p&&l(2,a=p.items),"scrollTopVal"in p&&l(3,r=p.scrollTopVal)},i.$$.update=()=>{i.$$.dirty&24&&V(I,r)},[n,d,a,r,I]}class el extends Ee{constructor(e){super(),Pe(this,e,xt,Yt,Se,{data:0,items:2,scrollTopVal:3})}}function tt(i,e,l){const t=i.slice();return t[27]=e[l],t}function tl(i){let e,l=(i[0].title||"")+"",t;return{c(){e=q("div"),t=x(l),this.h()},l(s){e=A(s,"DIV",{class:!0});var n=O(e);t=ee(n,l),n.forEach(m),this.h()},h(){h(e,"class","title svelte-x5b8hf")},m(s,n){P(s,e,n),M(e,t)},p(s,n){n&1&&l!==(l=(s[0].title||"")+"")&&be(t,l)},d(s){s&&m(e)}}}function ll(i){let e,l,t,s,n,a=(i[0].title||"")+"",r,u,c;return{c(){e=q("img"),s=Y(),n=q("div"),r=x(a),this.h()},l(o){e=A(o,"IMG",{src:!0,alt:!0,class:!0}),s=Q(o),n=A(o,"DIV",{class:!0});var f=O(n);r=ee(f,a),f.forEach(m),this.h()},h(){Xe(e.src,l=i[5])||h(e,"src",l),h(e,"alt",t=i[0].title),h(e,"class","svelte-x5b8hf"),h(n,"class","title svelte-x5b8hf")},m(o,f){P(o,e,f),P(o,s,f),P(o,n,f),M(n,r),u||(c=R(e,"load",i[11]),u=!0)},p(o,f){f&32&&!Xe(e.src,l=o[5])&&h(e,"src",l),f&1&&t!==(t=o[0].title)&&h(e,"alt",t),f&1&&a!==(a=(o[0].title||"")+"")&&be(r,a)},d(o){o&&m(e),o&&m(s),o&&m(n),u=!1,c()}}}function sl(i){let e,l,t,s,n,a=i[0].title+"",r,u,c;return{c(){e=q("img"),s=Y(),n=q("div"),r=x(a),this.h()},l(o){e=A(o,"IMG",{src:!0,alt:!0,class:!0}),s=Q(o),n=A(o,"DIV",{class:!0});var f=O(n);r=ee(f,a),f.forEach(m),this.h()},h(){Xe(e.src,l=i[0].img.replace("square","large"))||h(e,"src",l),h(e,"alt",t=i[0].title),h(e,"class","svelte-x5b8hf"),h(n,"class","title svelte-x5b8hf")},m(o,f){P(o,e,f),P(o,s,f),P(o,n,f),M(n,r),u||(c=R(e,"load",i[11]),u=!0)},p(o,f){f&1&&!Xe(e.src,l=o[0].img.replace("square","large"))&&h(e,"src",l),f&1&&t!==(t=o[0].title)&&h(e,"alt",t),f&1&&a!==(a=o[0].title+"")&&be(r,a)},d(o){o&&m(e),o&&m(s),o&&m(n),u=!1,c()}}}function lt(i){let e,l=i[8].essays,t=[];for(let s=0;s<l.length;s+=1)t[s]=st(tt(i,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=W()},l(s){for(let n=0;n<t.length;n+=1)t[n].l(s);e=W()},m(s,n){for(let a=0;a<t.length;a+=1)t[a].m(s,n);P(s,e,n)},p(s,n){if(n&256){l=s[8].essays;let a;for(a=0;a<l.length;a+=1){const r=tt(s,l,a);t[a]?t[a].p(r,n):(t[a]=st(r),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(s){qe(t,s),s&&m(e)}}}function st(i){let e,l,t,s=i[27].title+"",n,a;return{c(){e=q("a"),l=x("→"),t=q("em"),n=x(s),this.h()},l(r){e=A(r,"A",{class:!0,href:!0,target:!0,rel:!0});var u=O(e);l=ee(u,"→"),t=A(u,"EM",{});var c=O(t);n=ee(c,s),c.forEach(m),u.forEach(m),this.h()},h(){h(e,"class","link svelte-x5b8hf"),h(e,"href",a=i[27].url),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(r,u){P(r,e,u),M(e,l),M(e,t),M(t,n)},p(r,u){u&256&&s!==(s=r[27].title+"")&&be(n,s),u&256&&a!==(a=r[27].url)&&h(e,"href",a)},d(r){r&&m(e)}}}function it(i){let e;function l(n,a){return n[0].title==null||n[0].title.length==1?nl:il}let t=l(i),s=t(i);return{c(){s.c(),e=W()},l(n){s.l(n),e=W()},m(n,a){s.m(n,a),P(n,e,a)},p(n,a){t===(t=l(n))&&s?s.p(n,a):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){s.d(n),n&&m(e)}}}function il(i){let e,l,t;return{c(){e=q("a"),l=x("→ Metadata"),this.h()},l(s){e=A(s,"A",{class:!0,href:!0,target:!0,rel:!0});var n=O(e);l=ee(n,"→ Metadata"),n.forEach(m),this.h()},h(){h(e,"class","link svelte-x5b8hf"),h(e,"href",t=`${i[3]}/item/${i[4]}`),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(s,n){P(s,e,n),M(e,l)},p(s,n){n&24&&t!==(t=`${s[3]}/item/${s[4]}`)&&h(e,"href",t)},d(s){s&&m(e)}}}function nl(i){let e,l,t;return{c(){e=q("a"),l=x("→ Metadata"),this.h()},l(s){e=A(s,"A",{class:!0,href:!0,target:!0,rel:!0});var n=O(e);l=ee(n,"→ Metadata"),n.forEach(m),this.h()},h(){h(e,"class","link svelte-x5b8hf"),h(e,"href",t=`${i[3]}/media/${i[4]}`),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(s,n){P(s,e,n),M(e,l)},p(s,n){n&24&&t!==(t=`${s[3]}/media/${s[4]}`)&&h(e,"href",t)},d(s){s&&m(e)}}}function al(i){let e,l,t,s,n,a;function r(_,d){return _[0].img?sl:_[5]?ll:tl}let u=r(i),c=u(i),o=i[8]!=null&&lt(i),f=i[3]&&it(i);return{c(){e=q("div"),c.c(),l=Y(),o&&o.c(),t=Y(),f&&f.c(),this.h()},l(_){e=A(_,"DIV",{class:!0,title:!0,source:!0,target:!0,"data-id":!0});var d=O(e);c.l(d),l=Q(d),o&&o.l(d),t=Q(d),f&&f.l(d),d.forEach(m),this.h()},h(){h(e,"class","node svelte-x5b8hf"),h(e,"title",s=i[0].title),h(e,"source",i[9]),h(e,"target",i[4]),h(e,"data-id",i[4]),Ve(e,"selected",i[7]),Ve(e,"linkToEssay",i[8]!=null)},m(_,d){P(_,e,d),c.m(e,null),M(e,l),o&&o.m(e,null),M(e,t),f&&f.m(e,null),i[21](e),n||(a=[R(e,"mouseover",i[22]),R(e,"mouseleave",function(){Qe(i[13](i[4]))&&i[13](i[4]).apply(this,arguments)}),R(e,"click",i[18]),R(e,"keydown",i[19]),R(e,"focus",i[20])],n=!0)},p(_,[d]){i=_,u===(u=r(i))&&c?c.p(i,d):(c.d(1),c=u(i),c&&(c.c(),c.m(e,l))),i[8]!=null?o?o.p(i,d):(o=lt(i),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i[3]?f?f.p(i,d):(f=it(i),f.c(),f.m(e,null)):f&&(f.d(1),f=null),d&1&&s!==(s=i[0].title)&&h(e,"title",s),d&512&&h(e,"source",i[9]),d&16&&h(e,"target",i[4]),d&16&&h(e,"data-id",i[4]),d&128&&Ve(e,"selected",i[7]),d&256&&Ve(e,"linkToEssay",i[8]!=null)},i:j,o:j,d(_){_&&m(e),c.d(),o&&o.d(),f&&f.d(),i[21](null),n=!1,ze(a)}}}function rl(i,e,l){let t,s,n,a,r,u,c=j,o=()=>(c(),c=We(L,v=>l(17,u=v)),L),f,_=j,d=()=>(_(),_=We(V,v=>l(24,f=v)),V),I,T;ie(i,de,v=>l(16,r=v)),ie(i,Ze,v=>l(25,I=v)),ie(i,Je,v=>l(10,T=v)),i.$$.on_destroy.push(()=>c()),i.$$.on_destroy.push(()=>_());let{datum:N}=e,{entities:L}=e;o();let{updatePosition:V}=e;d();let{essaysItems:p}=e,{site:b}=e,{openNode:y}=e,w,E=null;zt(()=>{const v=N.source;v==`item_${I}`&&v!=E&&y(N,1),E=`item_${I}`}),qt(()=>{se(V,f=!0,f)});function D(){se(V,f=!0,f)}function F(v){var J;const k=v.split("/"),z=u.find(ne=>ne["o:id"]==k.slice(-1)[0]);return(J=z==null?void 0:z.thumbnail_display_urls)==null?void 0:J.large}let G;function S(v){const k=v,z=document.querySelector(`.node-highlite[data-id="${k}"]`);z&&z.classList.add("hover"),G.classList.add("hover")}function X(v){const k=v,z=document.querySelector(`.node-highlite[data-id="${k}"]`);z&&z.classList.remove("hover"),G.classList.remove("hover")}function Z(v){Ge.call(this,i,v)}function le(v){Ge.call(this,i,v)}function B(v){Ge.call(this,i,v)}function $(v){we[v?"unshift":"push"](()=>{G=v,l(6,G)})}const g=()=>{se(Je,T=s,T),S(s)};return i.$$set=v=>{"datum"in v&&l(0,N=v.datum),"entities"in v&&o(l(1,L=v.entities)),"updatePosition"in v&&d(l(2,V=v.updatePosition)),"essaysItems"in v&&l(14,p=v.essaysItems),"site"in v&&l(3,b=v.site),"openNode"in v&&l(15,y=v.openNode)},i.$$.update=()=>{i.$$.dirty&131073&&u&&l(5,w=F(N.target)),i.$$.dirty&1&&l(9,t=N.source.split("/").slice(-1)[0]),i.$$.dirty&1&&l(4,s=N.target.split("/").slice(-1)[0]),i.$$.dirty&16400&&l(8,n=p.find(v=>v.id==s)),i.$$.dirty&65537&&l(7,a=r.some(v=>(v==null?void 0:v.id)==N.target))},[N,L,V,b,s,w,G,a,n,t,T,D,S,X,p,y,r,u,Z,le,B,$,g]}class At extends Ee{constructor(e){super(),Pe(this,e,rl,al,Se,{datum:0,entities:1,updatePosition:2,essaysItems:14,site:3,openNode:15})}}var ol=0;function fl(){return++ol}var Ke=Function("return this")();typeof Ke.__nextId!="function"&&(Ke.__nextId=fl);function Mt(){return"uid-"+Ke.__nextId()}function ul(i){let e,l,t;return{c(){e=q("div"),this.h()},l(s){e=A(s,"DIV",{source:!0,target:!0}),O(e).forEach(m),this.h()},h(){h(e,"source",l=i[0].source.split("/").slice(-1)[0]),h(e,"target",t=i[0].target.split("/").slice(-1)[0])},m(s,n){P(s,e,n),i[8](e)},p(s,[n]){n&1&&l!==(l=s[0].source.split("/").slice(-1)[0])&&h(e,"source",l),n&1&&t!==(t=s[0].target.split("/").slice(-1)[0])&&h(e,"target",t)},i:j,o:j,d(s){s&&m(e),i[8](null)}}}let nt=0;function cl(i,e,l){let t,s,n,a,r=j,u=()=>(r(),r=We(d,p=>l(5,a=p)),d),c,o;ie(i,Fe,p=>l(12,n=p)),ie(i,Ue,p=>l(6,c=p)),ie(i,de,p=>l(7,o=p)),i.$$.on_destroy.push(()=>r());let{datum:f}=e,{label:_}=e,{updatePosition:d}=e;u();let I,T=Mt();function N(p,b=0,y){const w=p.split("/").slice(-1)[0],E=[...document.querySelectorAll(`.node[data-id="${w}"]`)],D=[];return E.forEach(F=>{const G=F.getBoundingClientRect(),S={x:G.x+c,y:G.y+b,width:G.width-b/2,height:G.height,selected:"selected"};D.push(S)}),D}function L(){delete n[T],se(d,a=!1,a);const p=N(f.source,nt),b=N(f.target,nt);I&&(I.getBoundingClientRect().x,I.getBoundingClientRect().y),p.forEach(y=>{b.forEach(w=>{let E=100;const D=y==null?void 0:y.selected;let F,G,S,X,Z;F=y.x+y.width,G=y.y,S=w.x,X=w.y,w.x<y.x||w.x==y.x?Z=w.x-E*5:w.x==y.x?Z=w.x-E*3:Z=w.x-E,f.source.includes("item_")&&(Z=w.x-E);const le=F+E,B=G,$=w.y,g=`M${F},${G}C${le},${B} ${Z},${$} ${S},${X}`;se(Fe,n[T]=n[T]||[],n),n[T].push({class:s,d:g,label:_,selected:D,datum:{source:f.source.split("/").at(-1),target:f.target.split("/").at(-1)},reverse:f==null?void 0:f.reverse})})})}qt(()=>{delete n[T],se(Fe,n=[],n)});function V(p){we[p?"unshift":"push"](()=>{I=p,l(2,I)})}return i.$$set=p=>{"datum"in p&&l(0,f=p.datum),"label"in p&&l(3,_=p.label),"updatePosition"in p&&u(l(1,d=p.updatePosition))},i.$$.update=()=>{i.$$.dirty&96&&L(),i.$$.dirty&128&&l(4,t=o.slice(-1)[0].id),i.$$.dirty&17&&(s=f.target==t||f.source==t?"highlite":"")},[f,d,I,_,t,a,c,o,V]}class Ct extends Ee{constructor(e){super(),Pe(this,e,cl,ul,Se,{datum:0,label:3,updatePosition:1})}}new TextEncoder;async function dl(i){const e=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1[^>]*?>(.*?)<\/a>/g,l=[],t=[],s=[],n=[];let a;for(;a=e.exec(i);)if(!a[2].includes("http")){const p=a[3],b=a[2];b.includes("item/")&&l.push(b.split("/")[1]),b.includes("set/")&&s.push(b.split("/")[1]),b.includes("media/")&&t.push(b.split("/")[1]),n.push({label:p,id:b.split("/")[1]})}const r=Ut,c=V(l,r).map(p=>{const b=`${ce}/items?${p.map(y=>`id[]=${y}`).join("&")}`;return fetch(b).then(y=>y.json())}),f=V(s,r).map(p=>{const b=`${ce}/item_sets?${p.map(y=>`id[]=${y}`).join("&")}`;return fetch(b).then(y=>y.json())}),d=V(t,r).map(p=>{const b=`${ce}/media?${p.map(y=>`id[]=${y}`).join("&")}`;return fetch(b).then(y=>y.json())}),I=await Promise.all(c),T=await Promise.all(f),N=await Promise.all(d),L=[...I.flat(),...N.flat(),...T.flat()];for(let p=0;p<L.length;p++){const b=n.find(w=>L[p]["o:id"]==w.id),y=L[p];b.uniqueId=Mt(),b.data=y}return n;function V(p,b){const y=[];for(let w=0;w<p.length;w+=b)y.push(p.slice(w,w+b));return y}}async function Ot(i){let e=[];for(let t=0;t<i.length;t++)if(i[t].data){let s=i[t].data,n=i[t].set||null,a=_l(s,n);e=[...e,...a]}return{...{nodes:e.reduce((t,s)=>(t.find(n=>n.id===s.source)||t.push({id:s.source,title:s.title}),t.find(n=>n.id===s.target)||t.push({id:s.target,title:s.title}),t),[]),links:e}}}function _l(i,e){var u;let l=[],t=`${ce}/resources/${i["o:id"]}`;e&&l.push({source:`${ce}/resources/${e.id}`,target:t,img:(u=i==null?void 0:i.thumbnail_display_urls)==null?void 0:u.large,title:i["o:title"]});let s,n=!1;const a=/\b[a-zA-Z]+\d+[a-zA-Z]*\s/;let r=async function(c){var o,f,_,d,I,T,N,L,V,p,b,y;for(let w in c)if(w==="@id"&&c[w].startsWith(ce)&&(c["o:title"]||c.display_title||n==!0)){let E=c[w].split("/").pop(),D=`${ce}/resources/${E}`;const F=c["o:title"]||c.display_title,G=(c==null?void 0:c.thumbnail_url)||((o=c==null?void 0:c.thumbnail_display_urls)==null?void 0:o.large),S=l.some(le=>le.source===t&&le.target===D);let X=((_=(f=c.property_label)==null?void 0:f.replace("_"," "))==null?void 0:_.replace(a,""))||(s==null?void 0:s.replace(a,""));const Z=Ft.map(le=>le.props.includes(X)?le.key:"").find(Boolean);S||l.push({source:t,target:D,title:F,img:G,property:X,category:Z,reverse:n})}else if(w==="@id"&&!c[w].startsWith(ce)&&c["o:label"]){let E=((I=(d=c.property_label)==null?void 0:d.replace("_"," "))==null?void 0:I.replace(a,""))||(s==null?void 0:s.replace(a,""));l.push({source:t,target:c[w],title:c["o:label"],property:E,category:"",external:!0,reverse:n})}else if(w==="@id"&&s=="media"&&t.split("/").pop()!=((T=c==null?void 0:c["o:primary_media"])==null?void 0:T["@id"].split("/").pop())){let E=((L=(N=c.property_label)==null?void 0:N.replace("_"," "))==null?void 0:L.replace(a,""))||(s==null?void 0:s.replace(a,"")),D=c[w].split("/").pop(),F=`${ce}/resources/${D}`;l.push({source:t,target:F,title:(c==null?void 0:c["o:label"])||" ",property:E,category:"",reverse:n})}else if(w==="@id"&&s=="item"){let E=((p=(V=c.property_label)==null?void 0:V.replace("_"," "))==null?void 0:p.replace(a,""))||(s==null?void 0:s.replace(a,"")),D=c[w].split("/").pop(),F=`${ce}/resources/${D}`;l.push({source:t,target:F,title:(c==null?void 0:c["o:label"])||" ",property:E,category:"",reverse:n})}else typeof c[w]=="object"&&(isNaN(w)&&(s=(y=(b=(w==null?void 0:w.split(":"))[1])==null?void 0:b.split("_"))==null?void 0:y.join(" "),w=="@reverse"&&(n=!0)),r(c[w]))};return r(i),l}function at(i,e,l){const t=i.slice();return t[22]=e[l],t}function rt(i){let e,l;return{c(){e=q("div"),l=x("Loading..."),this.h()},l(t){e=A(t,"DIV",{class:!0});var s=O(e);l=ee(s,"Loading..."),s.forEach(m),this.h()},h(){h(e,"class","loading svelte-1kyenid")},m(t,s){P(t,e,s),M(e,l)},d(t){t&&m(e)}}}function ot(i){let e,l,t=i[0],s=[];for(let a=0;a<t.length;a+=1)s[a]=ut(at(i,t,a));const n=a=>U(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=W()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);e=W()},m(a,r){for(let u=0;u<s.length;u+=1)s[u].m(a,r);P(a,e,r),l=!0},p(a,r){if(r&639){t=a[0];let u;for(u=0;u<t.length;u+=1){const c=at(a,t,u);s[u]?(s[u].p(c,r),C(s[u],1)):(s[u]=ut(c),s[u].c(),C(s[u],1),s[u].m(e.parentNode,e))}for(fe(),u=t.length;u<s.length;u+=1)n(u);ue()}},i(a){if(!l){for(let r=0;r<t.length;r+=1)C(s[r]);l=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)U(s[r]);l=!1},d(a){qe(s,a),a&&m(e)}}}function hl(i){var t;let e,l;return e=new Ct({props:{datum:i[22],updatePosition:i[3],label:((t=i[22])==null?void 0:t.property)||""}}),{c(){he(e.$$.fragment)},l(s){me(e.$$.fragment,s)},m(s,n){pe(e,s,n),l=!0},p(s,n){var r;const a={};n&1&&(a.datum=s[22]),n&8&&(a.updatePosition=s[3]),n&1&&(a.label=((r=s[22])==null?void 0:r.property)||""),e.$set(a)},i(s){l||(C(e.$$.fragment,s),l=!0)},o(s){U(e.$$.fragment,s),l=!1},d(s){ge(e,s)}}}function ml(i){let e,l,t=i[22].source!=i[22].target&&ft(i);return{c(){t&&t.c(),e=W()},l(s){t&&t.l(s),e=W()},m(s,n){t&&t.m(s,n),P(s,e,n),l=!0},p(s,n){s[22].source!=s[22].target?t?(t.p(s,n),n&1&&C(t,1)):(t=ft(s),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(fe(),U(t,1,1,()=>{t=null}),ue())},i(s){l||(C(t),l=!0)},o(s){U(t),l=!1},d(s){t&&t.d(s),s&&m(e)}}}function ft(i){var c;let e,l,t,s,n;const a=[gl,pl],r=[];function u(o,f){var _;return(_=o[22])!=null&&_.external?1:0}return e=u(i),l=r[e]=a[e](i),s=new Ct({props:{datum:i[22],updatePosition:i[3],label:((c=i[22])==null?void 0:c.property)||""}}),{c(){l.c(),t=Y(),he(s.$$.fragment)},l(o){l.l(o),t=Q(o),me(s.$$.fragment,o)},m(o,f){r[e].m(o,f),P(o,t,f),pe(s,o,f),n=!0},p(o,f){var I;let _=e;e=u(o),e===_?r[e].p(o,f):(fe(),U(r[_],1,1,()=>{r[_]=null}),ue(),l=r[e],l?l.p(o,f):(l=r[e]=a[e](o),l.c()),C(l,1),l.m(t.parentNode,t));const d={};f&1&&(d.datum=o[22]),f&8&&(d.updatePosition=o[3]),f&1&&(d.label=((I=o[22])==null?void 0:I.property)||""),s.$set(d)},i(o){n||(C(l),C(s.$$.fragment,o),n=!0)},o(o){U(l),U(s.$$.fragment,o),n=!1},d(o){r[e].d(o),o&&m(t),ge(s,o)}}}function pl(i){let e,l,t,s;return l=new At({props:{site:i[6],entities:i[2],updatePosition:i[3],datum:i[22],essaysItems:i[5],openNode:i[9]}}),{c(){e=q("a"),he(l.$$.fragment),this.h()},l(n){e=A(n,"A",{href:!0,target:!0,rel:!0});var a=O(e);me(l.$$.fragment,a),a.forEach(m),this.h()},h(){h(e,"href",t=i[22].target),h(e,"target","_blank"),h(e,"rel","noreferrer")},m(n,a){P(n,e,a),pe(l,e,null),s=!0},p(n,a){const r={};a&64&&(r.site=n[6]),a&4&&(r.entities=n[2]),a&8&&(r.updatePosition=n[3]),a&1&&(r.datum=n[22]),a&32&&(r.essaysItems=n[5]),l.$set(r),(!s||a&1&&t!==(t=n[22].target))&&h(e,"href",t)},i(n){s||(C(l.$$.fragment,n),s=!0)},o(n){U(l.$$.fragment,n),s=!1},d(n){n&&m(e),ge(l)}}}function gl(i){let e,l;function t(){return i[16](i[22])}function s(){return i[17](i[22])}return e=new At({props:{site:i[6],entities:i[2],updatePosition:i[3],datum:i[22],essaysItems:i[5],openNode:i[9]}}),e.$on("click",t),e.$on("keydown",s),{c(){he(e.$$.fragment)},l(n){me(e.$$.fragment,n)},m(n,a){pe(e,n,a),l=!0},p(n,a){i=n;const r={};a&64&&(r.site=i[6]),a&4&&(r.entities=i[2]),a&8&&(r.updatePosition=i[3]),a&1&&(r.datum=i[22]),a&32&&(r.essaysItems=i[5]),e.$set(r)},i(n){l||(C(e.$$.fragment,n),l=!0)},o(n){U(e.$$.fragment,n),l=!1},d(n){ge(e,n)}}}function ut(i){let e,l,t,s,n;function a(...o){return i[15](i[22],...o)}const r=[ml,hl],u=[];function c(o,f){return f&3&&(e=null),e==null&&(e=!!o[1].some(a)),e?0:o[22].source&&o[22].target&&o[22].source!=o[22].target?1:-1}return~(l=c(i,-1))&&(t=u[l]=r[l](i)),{c(){t&&t.c(),s=W()},l(o){t&&t.l(o),s=W()},m(o,f){~l&&u[l].m(o,f),P(o,s,f),n=!0},p(o,f){i=o;let _=l;l=c(i,f),l===_?~l&&u[l].p(i,f):(t&&(fe(),U(u[_],1,1,()=>{u[_]=null}),ue()),~l?(t=u[l],t?t.p(i,f):(t=u[l]=r[l](i),t.c()),C(t,1),t.m(s.parentNode,s)):t=null)},i(o){n||(C(t),n=!0)},o(o){U(t),n=!1},d(o){~l&&u[l].d(o),o&&m(s)}}}function bl(i){let e,l,t,s=i[0]&&typeof i[0]=="object"&&Object.keys(i[0]).length>0,n,a=i[8]&&rt(),r=s&&ot(i);return{c(){e=q("section"),a&&a.c(),l=Y(),t=q("div"),r&&r.c()},l(u){e=A(u,"SECTION",{});var c=O(e);a&&a.l(c),l=Q(c),t=A(c,"DIV",{});var o=O(t);r&&r.l(o),o.forEach(m),c.forEach(m)},m(u,c){P(u,e,c),a&&a.m(e,null),M(e,l),M(e,t),r&&r.m(t,null),i[18](e),n=!0},p(u,[c]){u[8]?a||(a=rt(),a.c(),a.m(e,l)):a&&(a.d(1),a=null),c&1&&(s=u[0]&&typeof u[0]=="object"&&Object.keys(u[0]).length>0),s?r?(r.p(u,c),c&1&&C(r,1)):(r=ot(u),r.c(),C(r,1),r.m(t,null)):r&&(fe(),U(r,1,1,()=>{r=null}),ue())},i(u){n||(C(r),n=!0)},o(u){U(r),n=!1},d(u){u&&m(e),a&&a.d(),r&&r.d(),i[18](null)}}}function vl(i){let e=document.querySelector(`#col_${i}`);e&&e.scrollTo({top:0,behavior:"smooth"})}function kl(i,e){return e.filter(l=>!i.some(t=>t.target===l.target||t.id===l.target))}function yl(i,e,l){let t,s=j,n=()=>(s(),s=We(_,S=>l(20,t=S)),_),a;ie(i,de,S=>l(21,a=S)),i.$$.on_destroy.push(()=>s());let{category:r}=e,{data:u}=e,{newData:c}=e,{dataLen:o}=e,{entities:f}=e,{updatePosition:_}=e;n();let{index:d}=e,{loadData:I}=e,{defaultNodes:T}=e,{batchSize:N}=e,{essaysItems:L}=e,{site:V}=e,p,b,y={nodes:[],links:[]};async function w(S,X){vl(X),l(8,b=!0),a.splice(X,a.length-X);let Z=a.map(k=>k.data).flat();const B=await(await fetch(S.target)).json();if(B!=null&&B["o:items"]&&a.length==1){let k=[];const z=B["o:items"]["@id"];(await(await fetch(z)).json()).forEach(te=>{k.push(te)});let K=k.map(te=>({"o:title":te["o:title"],"@id":te["@id"],thumbnail_display_urls:te.thumbnail_display_urls}));B.related={...K}}y=await Ot([{data:B}]);let $=y.links.filter(k=>k.source===S.target||k.target===S.target),g=kl([...T,...Z],$),v=$.slice(0,N);se(de,a[X]={id:S.target,data:$.sort((k,z)=>{if(k.property)return k.property.localeCompare(z.property)}),page:0,new:g,paginate:v},a),l(8,b=!1),g.length>0&&I(v,N),se(_,t=!0,t)}const E=(S,X)=>(X==null?void 0:X.title)===S.title,D=S=>{w(S,d+1)},F=S=>{w(S,d+1)};function G(S){we[S?"unshift":"push"](()=>{p=S,l(7,p)})}return i.$$set=S=>{"category"in S&&l(10,r=S.category),"data"in S&&l(0,u=S.data),"newData"in S&&l(1,c=S.newData),"dataLen"in S&&l(11,o=S.dataLen),"entities"in S&&l(2,f=S.entities),"updatePosition"in S&&n(l(3,_=S.updatePosition)),"index"in S&&l(4,d=S.index),"loadData"in S&&l(12,I=S.loadData),"defaultNodes"in S&&l(13,T=S.defaultNodes),"batchSize"in S&&l(14,N=S.batchSize),"essaysItems"in S&&l(5,L=S.essaysItems),"site"in S&&l(6,V=S.site)},[u,c,f,_,d,L,V,p,b,w,r,o,I,T,N,E,D,F,G]}class Vt extends Ee{constructor(e){super(),Pe(this,e,yl,bl,Se,{category:10,data:0,newData:1,dataLen:11,entities:2,updatePosition:3,index:4,loadData:12,defaultNodes:13,batchSize:14,essaysItems:5,site:6})}}function ct(i,e,l){const t=i.slice();return t[32]=e[l],t[34]=l,t}function Ye(i){const e=i.slice(),l=e[32].paginate.filter(s=>!e[3].mainCategories.some(n=>n.props.includes(s.property)));e[35]=l;const t=e[32].data.filter(s=>!e[3].mainCategories.some(n=>n.props.includes(s.property))).length;return e[36]=t,e}function dt(i,e,l){const t=i.slice();t[37]=e[l];const s=t[32].paginate.filter(function(...r){return i[20](t[37],...r)});t[38]=s;const n=t[32].data.filter(function(...r){return i[21](t[37],...r)}).length;return t[36]=n,t}function Il(i){let e,l,t=i[5],s=[];for(let a=0;a<t.length;a+=1)s[a]=bt(ct(i,t,a));const n=a=>U(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=W()},l(a){for(let r=0;r<s.length;r+=1)s[r].l(a);e=W()},m(a,r){for(let u=0;u<s.length;u+=1)s[u].m(a,r);P(a,e,r),l=!0},p(a,r){if(r[0]&16063){t=a[5];let u;for(u=0;u<t.length;u+=1){const c=ct(a,t,u);s[u]?(s[u].p(c,r),C(s[u],1)):(s[u]=bt(c),s[u].c(),C(s[u],1),s[u].m(e.parentNode,e))}for(fe(),u=t.length;u<s.length;u+=1)n(u);ue()}},i(a){if(!l){for(let r=0;r<t.length;r+=1)C(s[r]);l=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)U(s[r]);l=!1},d(a){qe(s,a),a&&m(e)}}}function wl(i){let e,l,t;return{c(){e=q("div"),l=q("h4"),t=x("Loading Graph..."),this.h()},l(s){e=A(s,"DIV",{});var n=O(e);l=A(n,"H4",{class:!0});var a=O(l);t=ee(a,"Loading Graph..."),a.forEach(m),n.forEach(m),this.h()},h(){h(l,"class","loading svelte-d0zru6")},m(s,n){P(s,e,n),M(e,l),M(l,t)},p:j,i:j,o:j,d(s){s&&m(e)}}}function El(i){let e,l;return{c(){e=q("div"),l=x("There are no connections."),this.h()},l(t){e=A(t,"DIV",{class:!0});var s=O(e);l=ee(s,"There are no connections."),s.forEach(m),this.h()},h(){h(e,"class","no-items svelte-d0zru6")},m(t,s){P(t,e,s),M(e,l)},p:j,i:j,o:j,d(t){t&&m(e)}}}function Pl(i){let e,l,t=i[32].paginate.filter(i[19]).length>0,s,n,a=i[3].mainCategories,r=[];for(let f=0;f<a.length;f+=1)r[f]=ht(dt(i,a,f));const u=f=>U(r[f],1,1,()=>{r[f]=null});let c=t&&mt(Ye(i)),o=i[32].paginate.length<i[32].new.length&&gt(i);return{c(){e=q("div");for(let f=0;f<r.length;f+=1)r[f].c();l=Y(),c&&c.c(),s=Y(),o&&o.c()},l(f){e=A(f,"DIV",{});var _=O(e);for(let d=0;d<r.length;d+=1)r[d].l(_);l=Q(_),c&&c.l(_),s=Q(_),o&&o.l(_),_.forEach(m)},m(f,_){P(f,e,_);for(let d=0;d<r.length;d+=1)r[d].m(e,null);M(e,l),c&&c.m(e,null),M(e,s),o&&o.m(e,null),n=!0},p(f,_){if(_[0]&7725){a=f[3].mainCategories;let d;for(d=0;d<a.length;d+=1){const I=dt(f,a,d);r[d]?(r[d].p(I,_),C(r[d],1)):(r[d]=ht(I),r[d].c(),C(r[d],1),r[d].m(e,l))}for(fe(),d=a.length;d<r.length;d+=1)u(d);ue()}_[0]&40&&(t=f[32].paginate.filter(f[19]).length>0),t?c?(c.p(Ye(f),_),_[0]&40&&C(c,1)):(c=mt(Ye(f)),c.c(),C(c,1),c.m(e,s)):c&&(fe(),U(c,1,1,()=>{c=null}),ue()),f[32].paginate.length<f[32].new.length?o?o.p(f,_):(o=gt(f),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(f){if(!n){for(let _=0;_<a.length;_+=1)C(r[_]);C(c),n=!0}},o(f){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)U(r[_]);U(c),n=!1},d(f){f&&m(e),qe(r,f),c&&c.d(),o&&o.d()}}}function _t(i){let e,l;return e=new Vt({props:{site:i[3].publicSite,essaysItems:i[2],category:i[37].key,data:i[38],newData:i[32].new,dataLen:i[36],index:i[34],entities:i[9],updatePosition:i[0],batchSize:i[10],defaultNodes:[...i[11]],loadData:i[12]}}),{c(){he(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){pe(e,t,s),l=!0},p(t,s){const n={};s[0]&8&&(n.site=t[3].publicSite),s[0]&4&&(n.essaysItems=t[2]),s[0]&8&&(n.category=t[37].key),s[0]&40&&(n.data=t[38]),s[0]&32&&(n.newData=t[32].new),s[0]&40&&(n.dataLen=t[36]),s[0]&1&&(n.updatePosition=t[0]),e.$set(n)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function ht(i){let e,l,t=i[38].length>0&&_t(i);return{c(){t&&t.c(),e=W()},l(s){t&&t.l(s),e=W()},m(s,n){t&&t.m(s,n),P(s,e,n),l=!0},p(s,n){s[38].length>0?t?(t.p(s,n),n[0]&40&&C(t,1)):(t=_t(s),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(fe(),U(t,1,1,()=>{t=null}),ue())},i(s){l||(C(t),l=!0)},o(s){U(t),l=!1},d(s){t&&t.d(s),s&&m(e)}}}function mt(i){let e,l,t=i[35].length>0&&pt(i);return{c(){t&&t.c(),e=W()},l(s){t&&t.l(s),e=W()},m(s,n){t&&t.m(s,n),P(s,e,n),l=!0},p(s,n){s[35].length>0?t?(t.p(s,n),n[0]&40&&C(t,1)):(t=pt(s),t.c(),C(t,1),t.m(e.parentNode,e)):t&&(fe(),U(t,1,1,()=>{t=null}),ue())},i(s){l||(C(t),l=!0)},o(s){U(t),l=!1},d(s){t&&t.d(s),s&&m(e)}}}function pt(i){let e,l;return e=new Vt({props:{site:i[3].publicSite,essaysItems:i[2],category:"",data:i[35],newData:i[32].new,dataLen:i[36],index:i[34],entities:i[9],updatePosition:i[0],batchSize:i[10],defaultNodes:[...i[11]],loadData:i[12]}}),{c(){he(e.$$.fragment)},l(t){me(e.$$.fragment,t)},m(t,s){pe(e,t,s),l=!0},p(t,s){const n={};s[0]&8&&(n.site=t[3].publicSite),s[0]&4&&(n.essaysItems=t[2]),s[0]&40&&(n.data=t[35]),s[0]&32&&(n.newData=t[32].new),s[0]&40&&(n.dataLen=t[36]),s[0]&1&&(n.updatePosition=t[0]),e.$set(n)},i(t){l||(C(e.$$.fragment,t),l=!0)},o(t){U(e.$$.fragment,t),l=!1},d(t){ge(e,t)}}}function gt(i){let e,l,t,s;return{c(){e=q("div"),l=x("Load more"),this.h()},l(n){e=A(n,"DIV",{class:!0});var a=O(e);l=ee(a,"Load more"),a.forEach(m),this.h()},h(){h(e,"class","more svelte-d0zru6")},m(n,a){P(n,e,a),M(e,l),t||(s=[R(e,"click",function(){Qe(i[13](i[34],i[7]))&&i[13](i[34],i[7]).apply(this,arguments)}),R(e,"keydown",function(){Qe(i[13](i[34],i[7]))&&i[13](i[34],i[7]).apply(this,arguments)})],t=!0)},p(n,a){i=n},d(n){n&&m(e),t=!1,ze(s)}}}function bt(i){let e,l,t,s,n,a,r;const u=[Pl,El],c=[];function o(f,_){var d,I;return(d=f[32])!=null&&d.new&&((I=f[32])==null?void 0:I.new.length)>0?0:1}return l=o(i),t=c[l]=u[l](i),{c(){e=q("div"),t.c(),s=Y(),this.h()},l(f){e=A(f,"DIV",{class:!0,id:!0});var _=O(e);t.l(_),s=Q(_),_.forEach(m),this.h()},h(){h(e,"class","links svelte-d0zru6"),h(e,"id","col_"+i[34])},m(f,_){P(f,e,_),c[l].m(e,null),M(e,s),i[22](e),n=!0,a||(r=[R(e,"scroll",i[23]),R(e,"click",i[24]),R(e,"keypress",i[25])],a=!0)},p(f,_){let d=l;l=o(f),l===d?c[l].p(f,_):(fe(),U(c[d],1,1,()=>{c[d]=null}),ue(),t=c[l],t?t.p(f,_):(t=c[l]=u[l](f),t.c()),C(t,1),t.m(e,s))},i(f){n||(C(t),n=!0)},o(f){U(t),n=!1},d(f){f&&m(e),c[l].d(),i[22](null),a=!1,ze(r)}}}function vt(i){let e,l,t,s;return{c(){e=q("div"),l=x("✕"),this.h()},l(n){e=A(n,"DIV",{class:!0});var a=O(e);l=ee(a,"✕"),a.forEach(m),this.h()},h(){h(e,"class","close svelte-d0zru6")},m(n,a){P(n,e,a),M(e,l),t||(s=[R(e,"click",i[27]),R(e,"keypress",i[28])],t=!0)},p:j,d(n){n&&m(e),t=!1,ze(s)}}}function Sl(i){let e,l,t,s,n,a;const r=[wl,Il],u=[];function c(f,_){return f[8].length==0?0:1}l=c(i),t=u[l]=r[l](i);let o=i[5].length>1&&vt(i);return{c(){e=q("div"),t.c(),s=Y(),o&&o.c(),n=W(),this.h()},l(f){e=A(f,"DIV",{class:!0});var _=O(e);t.l(_),_.forEach(m),s=Q(f),o&&o.l(f),n=W(),this.h()},h(){h(e,"class","graph svelte-d0zru6")},m(f,_){P(f,e,_),u[l].m(e,null),i[26](e),P(f,s,_),o&&o.m(f,_),P(f,n,_),a=!0},p(f,_){let d=l;l=c(f),l===d?u[l].p(f,_):(fe(),U(u[d],1,1,()=>{u[d]=null}),ue(),t=u[l],t?t.p(f,_):(t=u[l]=r[l](f),t.c()),C(t,1),t.m(e,null)),f[5].length>1?o?o.p(f,_):(o=vt(f),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(f){a||(C(t),a=!0)},o(f){U(t),a=!1},d(f){f&&m(e),u[l].d(),i[26](null),f&&m(s),o&&o.d(f),f&&m(n)}}}function Tl(i,e,l){const t=l-e;return(i-e)/t*100}function Dl(i,e,l){const t=l-e;return e+t*i/100}function Ll(i,e,l){let t,s,n,a;ie(i,Ne,k=>l(30,s=k)),ie(i,de,k=>l(5,n=k));let{updatePosition:r}=e,{handlePosition:u}=e,{data:c}=e,{visibleItemsID:o}=e,{essaysItems:f}=e,{config:_}=e,{items:d}=e,{screenSize:I}=e,T;const N=ve([]);ie(i,N,k=>l(8,a=k));let L=_.batch,V,p=c.nodes.filter(k=>o.includes(k.id));Re(async()=>{b(c.nodes,L)}),zt(()=>{V.lastElementChild&&I>600&&V.lastElementChild.scrollIntoView({behavior:"smooth",block:"end"}),u()});async function b(k,z){const J=k.map(K=>{var re,H;return(((re=K==null?void 0:K.id)==null?void 0:re.split("/"))||((H=K==null?void 0:K.target)==null?void 0:H.split("/"))).slice(-1)[0]}),ne=Math.ceil(J.length/z);for(let K=0;K<ne;K++){const te=J.slice(K*z,(K+1)*z);let re=`${_.api}/items?${te.map(ae=>`id[]=${ae}`).join("&")}`,H=await fetch(re),oe=await H.json();N.update(ae=>(ae.includes(...oe)||ae.push(...oe),ae)),oe.length!=te.length&&(re=`${_.api}/media?${te.map(ae=>`id[]=${ae}`).join("&")}`,H=await fetch(re),oe=await H.json(),N.update(ae=>(ae.includes(...oe)||ae.push(...oe),ae)))}}let y;const w=(k,z)=>{var J,ne,K,te,re;if(z!=null){const H=((J=n[k])==null?void 0:J.page)+1||0;se(de,n[k]={...n[k],page:H,paginate:(ne=n[k])==null?void 0:ne.data.slice(0,H*L)},n),(K=n[k])!=null&&K.data&&((te=n[k])==null?void 0:te.paginate.length)!=((re=n[k])==null?void 0:re.data.length)&&b(n[k].paginate.slice(-L),L)}};let E=0;function D(k){var z,J,ne,K,te,re;if(s){const H=document.querySelectorAll(".links:first-of-type .node");let oe=(z=H==null?void 0:H[E])==null?void 0:z.offsetTop,ae=(J=H==null?void 0:H[E])==null?void 0:J.getAttribute("data-id"),_e=(ne=H==null?void 0:H[E+1])==null?void 0:ne.offsetTop,ke=(K=H==null?void 0:H[E+1])==null?void 0:K.getAttribute("data-id"),Ae=(te=document.querySelector(`.node-highlite[data-id="${ae}"]`))==null?void 0:te.offsetTop,Me=(re=document.querySelector(`.node-highlite[data-id="${ke}"]`))==null?void 0:re.offsetTop,Ce=Tl(k,oe,_e),Te=Dl(Ce,Ae,Me);const Oe=document.querySelector(".markdown__container");k>_e&&E++,k<oe&&E!=0&&E--,Oe&&Te&&oe!==_e&&Te>0&&(Oe==null||Oe.scrollTo({top:Te}))}}const F=k=>!_.mainCategories.some(z=>z.props.includes(k.property)),G=(k,z)=>k.props.includes(z.property),S=(k,z)=>k.props.includes(z.property);function X(k){we[k?"unshift":"push"](()=>{y=k,l(7,y)})}const Z=()=>{let k=document.querySelector("#col_0");k.addEventListener("scroll",z=>{l(4,T=k==null?void 0:k.scrollTop)}),u()},le=()=>{u()},B=()=>{u()};function $(k){we[k?"unshift":"push"](()=>{V=k,l(6,V)})}const g=()=>{se(de,n=[],n),u()},v=()=>{se(de,n=[],n)};return i.$$set=k=>{"updatePosition"in k&&l(0,r=k.updatePosition),"handlePosition"in k&&l(1,u=k.handlePosition),"data"in k&&l(14,c=k.data),"visibleItemsID"in k&&l(15,o=k.visibleItemsID),"essaysItems"in k&&l(2,f=k.essaysItems),"config"in k&&l(3,_=k.config),"items"in k&&l(16,d=k.items),"screenSize"in k&&l(17,I=k.screenSize)},i.$$.update=()=>{var k;i.$$.dirty[0]&65544&&l(18,t=d.filter(z=>z==null?void 0:z.data).map(z=>{var J,ne;return{img:(J=z.data)==null?void 0:J.thumbnail_display_urls.large,source:`item_${z.id}`,target:`${_.api}/resources/${z.id}`,title:((ne=z.data)==null?void 0:ne["o:title"])||""}})),i.$$.dirty[0]&262176&&(n&&n.length==0||de&&((k=n==null?void 0:n[0])==null?void 0:k.data.length)==0)&&se(de,n[0]={data:t,new:t,page:0,paginate:t},n),i.$$.dirty[0]&16&&D(T)},[r,u,f,_,T,n,V,y,a,N,L,p,b,w,c,o,d,I,t,F,G,S,X,Z,le,B,$,g,v]}class Nl extends Ee{constructor(e){super(),Pe(this,e,Ll,Sl,Se,{updatePosition:0,handlePosition:1,data:14,visibleItemsID:15,essaysItems:2,config:3,items:16,screenSize:17},null,[-1,-1])}}function kt(i,e,l){const t=i.slice();return t[2]=e[l][0],t[3]=e[l][1],t}function yt(i,e,l){const t=i.slice();return t[6]=e[l],t}function It(i){let e,l,t=Object.entries(i[0]),s=[];for(let n=0;n<t.length;n+=1)s[n]=Lt(kt(i,t,n));return{c(){e=ye("svg"),l=ye("g");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=Ie(n,"svg",{class:!0});var a=O(e);l=Ie(a,"g",{});var r=O(l);for(let u=0;u<s.length;u+=1)s[u].l(r);r.forEach(m),a.forEach(m),this.h()},h(){h(e,"class","svelte-1ddz0y9")},m(n,a){P(n,e,a),M(e,l);for(let r=0;r<s.length;r+=1)s[r].m(l,null)},p(n,a){if(a&3){t=Object.entries(n[0]);let r;for(r=0;r<t.length;r+=1){const u=kt(n,t,r);s[r]?s[r].p(u,a):(s[r]=Lt(u),s[r].c(),s[r].m(l,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(n){n&&m(e),qe(s,n)}}}function wt(i){let e,l,t=i[6].label+"",s,n,a,r,u,c,o,f,_=i[6].label+"",d,I,T,N,L,V,p=i[6].reverse&&i[6].label&&Et(),b=!i[6].reverse&&i[6].label&&Pt(),y=i[6].reverse&&i[6].label&&St(),w=!i[6].reverse&&i[6].label&&Tt();return{c(){e=ye("text"),l=ye("textPath"),s=x(t),p&&p.c(),n=W(),b&&b.c(),o=ye("text"),f=ye("textPath"),d=x(_),y&&y.c(),I=W(),w&&w.c(),this.h()},l(E){e=Ie(E,"text",{class:!0,source:!0,target:!0});var D=O(e);l=Ie(D,"textPath",{"alignment-baseline":!0,href:!0,startOffset:!0,"text-anchor":!0});var F=O(l);s=ee(F,t),p&&p.l(F),n=W(),b&&b.l(F),F.forEach(m),D.forEach(m),o=Ie(E,"text",{class:!0,source:!0,target:!0});var G=O(o);f=Ie(G,"textPath",{"alignment-baseline":!0,href:!0,startOffset:!0,"text-anchor":!0});var S=O(f);d=ee(S,_),y&&y.l(S),I=W(),w&&w.l(S),S.forEach(m),G.forEach(m),this.h()},h(){h(l,"alignment-baseline","middle"),h(l,"href",a="#path_"+i[2]),h(l,"startOffset","99%"),h(l,"text-anchor","end"),h(e,"class",r="background "+i[6].class+" svelte-1ddz0y9"),h(e,"source",u=i[6].datum.source),h(e,"target",c=i[6].datum.target),h(f,"alignment-baseline","middle"),h(f,"href",T="#path_"+i[2]),h(f,"startOffset","99%"),h(f,"text-anchor","end"),h(o,"class",N=He(i[6].class)+" svelte-1ddz0y9"),h(o,"source",L=i[6].datum.source),h(o,"target",V=i[6].datum.target)},m(E,D){P(E,e,D),M(e,l),M(l,s),p&&p.m(l,null),M(l,n),b&&b.m(l,null),P(E,o,D),M(o,f),M(f,d),y&&y.m(f,null),M(f,I),w&&w.m(f,null)},p(E,D){D&1&&t!==(t=E[6].label+"")&&be(s,t),E[6].reverse&&E[6].label?p||(p=Et(),p.c(),p.m(l,n)):p&&(p.d(1),p=null),!E[6].reverse&&E[6].label?b||(b=Pt(),b.c(),b.m(l,null)):b&&(b.d(1),b=null),D&1&&a!==(a="#path_"+E[2])&&h(l,"href",a),D&1&&r!==(r="background "+E[6].class+" svelte-1ddz0y9")&&h(e,"class",r),D&1&&u!==(u=E[6].datum.source)&&h(e,"source",u),D&1&&c!==(c=E[6].datum.target)&&h(e,"target",c),D&1&&_!==(_=E[6].label+"")&&be(d,_),E[6].reverse&&E[6].label?y||(y=St(),y.c(),y.m(f,I)):y&&(y.d(1),y=null),!E[6].reverse&&E[6].label?w||(w=Tt(),w.c(),w.m(f,null)):w&&(w.d(1),w=null),D&1&&T!==(T="#path_"+E[2])&&h(f,"href",T),D&1&&N!==(N=He(E[6].class)+" svelte-1ddz0y9")&&h(o,"class",N),D&1&&L!==(L=E[6].datum.source)&&h(o,"source",L),D&1&&V!==(V=E[6].datum.target)&&h(o,"target",V)},d(E){E&&m(e),p&&p.d(),b&&b.d(),E&&m(o),y&&y.d(),w&&w.d()}}}function Et(i){let e;return{c(){e=x(" -")},l(l){e=ee(l," -")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function Pt(i){let e;return{c(){e=x("→")},l(l){e=ee(l,"→")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function St(i){let e;return{c(){e=x("←")},l(l){e=ee(l,"←")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function Tt(i){let e;return{c(){e=x("→")},l(l){e=ee(l,"→")},m(l,t){P(l,e,t)},d(l){l&&m(e)}}}function Dt(i){let e,l,t,s,n,a,r=(i[1]==i[6].datum.source&&i[6].selected!="not-selected"||i[1]==i[6].datum.target)&&wt(i);return{c(){e=ye("path"),r&&r.c(),a=W(),this.h()},l(u){e=Ie(u,"path",{id:!0,class:!0,"data-attr":!0,d:!0}),O(e).forEach(m),r&&r.l(u),a=W(),this.h()},h(){h(e,"id",l="path_"+i[2]),h(e,"class",t=He(i[6].class)+" svelte-1ddz0y9"),h(e,"data-attr",s=i[6].selected),h(e,"d",n=i[6].d)},m(u,c){P(u,e,c),r&&r.m(u,c),P(u,a,c)},p(u,c){c&1&&l!==(l="path_"+u[2])&&h(e,"id",l),c&1&&t!==(t=He(u[6].class)+" svelte-1ddz0y9")&&h(e,"class",t),c&1&&s!==(s=u[6].selected)&&h(e,"data-attr",s),c&1&&n!==(n=u[6].d)&&h(e,"d",n),u[1]==u[6].datum.source&&u[6].selected!="not-selected"||u[1]==u[6].datum.target?r?r.p(u,c):(r=wt(u),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},d(u){u&&m(e),r&&r.d(u),u&&m(a)}}}function Lt(i){let e,l=i[3],t=[];for(let s=0;s<l.length;s+=1)t[s]=Dt(yt(i,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=W()},l(s){for(let n=0;n<t.length;n+=1)t[n].l(s);e=W()},m(s,n){for(let a=0;a<t.length;a+=1)t[a].m(s,n);P(s,e,n)},p(s,n){if(n&3){l=s[3];let a;for(a=0;a<l.length;a+=1){const r=yt(s,l,a);t[a]?t[a].p(r,n):(t[a]=Dt(r),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(s){qe(t,s),s&&m(e)}}}function zl(i){let e=Object.keys(i[0]).length>0,l,t=e&&It(i);return{c(){t&&t.c(),l=W()},l(s){t&&t.l(s),l=W()},m(s,n){t&&t.m(s,n),P(s,l,n)},p(s,[n]){n&1&&(e=Object.keys(s[0]).length>0),e?t?t.p(s,n):(t=It(s),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},i:j,o:j,d(s){t&&t.d(s),s&&m(l)}}}function ql(i,e,l){let t,s;return ie(i,Fe,n=>l(0,t=n)),ie(i,Je,n=>l(1,s=n)),[t,s]}class Al extends Ee{constructor(e){super(),Pe(this,e,ql,zl,Se,{})}}function Ml(i){let e,l,t,s,n,a,r,u,c,o,f;return t=new el({props:{data:i[2],items:i[4],scrollTopVal:i[8]}}),a=new Nl({props:{items:i[4],data:i[10],screenSize:i[0],essaysItems:i[6],visibleItemsID:i[5],handlePosition:i[14],updatePosition:i[13],config:Wt}}),u=new Al({}),{c(){e=q("article"),l=q("section"),he(t.$$.fragment),s=Y(),n=q("section"),he(a.$$.fragment),r=Y(),he(u.$$.fragment),this.h()},l(_){e=A(_,"ARTICLE",{style:!0,class:!0});var d=O(e);l=A(d,"SECTION",{class:!0});var I=O(l);me(t.$$.fragment,I),I.forEach(m),s=Q(d),n=A(d,"SECTION",{class:!0});var T=O(n);me(a.$$.fragment,T),T.forEach(m),r=Q(d),me(u.$$.fragment,d),d.forEach(m),this.h()},h(){var _;h(l,"class","markdown__container svelte-15zdm0q"),h(n,"class","graph__container svelte-15zdm0q"),je(e,"--theme-color",((_=i[2].meta)==null?void 0:_.color)||"blue"),h(e,"class","svelte-15zdm0q")},m(_,d){P(_,e,d),M(e,l),pe(t,l,null),i[19](l),M(e,s),M(e,n),pe(a,n,null),M(e,r),pe(u,e,null),i[26](e),c=!0,o||(f=[R(l,"wheel",i[20],{passive:!0}),R(l,"scroll",i[21]),R(n,"wheel",i[22],{passive:!0}),R(e,"resize",i[14]),R(e,"scroll",i[23]),R(e,"touchmove",i[24],{passive:!0}),R(e,"click",i[25]),R(e,"keypress",i[17])],o=!0)},p(_,d){var N;const I={};d&4&&(I.data=_[2]),d&16&&(I.items=_[4]),d&256&&(I.scrollTopVal=_[8]),t.$set(I);const T={};d&16&&(T.items=_[4]),d&1024&&(T.data=_[10]),d&1&&(T.screenSize=_[0]),d&64&&(T.essaysItems=_[6]),d&32&&(T.visibleItemsID=_[5]),a.$set(T),(!c||d&4)&&je(e,"--theme-color",((N=_[2].meta)==null?void 0:N.color)||"blue")},i(_){c||(C(t.$$.fragment,_),C(a.$$.fragment,_),C(u.$$.fragment,_),c=!0)},o(_){U(t.$$.fragment,_),U(a.$$.fragment,_),U(u.$$.fragment,_),c=!1},d(_){_&&m(e),ge(t),i[19](null),ge(a),ge(u),i[26](null),o=!1,ze(f)}}}function Cl(i){let e,l,t,s;return{c(){e=q("article"),l=q("section"),t=q("h4"),s=x("Loading..."),this.h()},l(n){e=A(n,"ARTICLE",{class:!0});var a=O(e);l=A(a,"SECTION",{class:!0});var r=O(l);t=A(r,"H4",{});var u=O(t);s=ee(u,"Loading..."),u.forEach(m),r.forEach(m),a.forEach(m),this.h()},h(){h(l,"class","short_text svelte-15zdm0q"),h(e,"class","svelte-15zdm0q")},m(n,a){P(n,e,a),M(e,l),M(l,t),M(t,s)},p:j,i:j,o:j,d(n){n&&m(e)}}}function Ol(i){let e,l,t,s;return{c(){e=q("article"),l=q("section"),t=q("h4"),s=x("404 Page not found"),this.h()},l(n){e=A(n,"ARTICLE",{class:!0});var a=O(e);l=A(a,"SECTION",{class:!0});var r=O(l);t=A(r,"H4",{});var u=O(t);s=ee(u,"404 Page not found"),u.forEach(m),r.forEach(m),a.forEach(m),this.h()},h(){h(l,"class","short_text svelte-15zdm0q"),h(e,"class","svelte-15zdm0q")},m(n,a){P(n,e,a),M(e,l),M(l,t),M(t,s)},p:j,i:j,o:j,d(n){n&&m(e)}}}function Nt(i){var B,$;let e,l,t,s,n,a,r,u,c,o,f,_,d,I,T,N,L,V,p,b,y,w,E,D,F,G,S,X,Z,le;return document.title=e=(($=(B=i[2])==null?void 0:B.meta)==null?void 0:$.title)||De,{c(){l=Y(),t=q("meta"),n=Y(),a=q("meta"),u=Y(),c=q("meta"),f=Y(),_=q("meta"),I=Y(),T=q("meta"),L=Y(),V=q("meta"),p=Y(),b=q("meta"),w=Y(),E=q("meta"),F=Y(),G=q("meta"),X=Y(),Z=q("meta"),this.h()},l(g){l=Q(g),t=A(g,"META",{name:!0,content:!0}),n=Q(g),a=A(g,"META",{property:!0,content:!0}),u=Q(g),c=A(g,"META",{property:!0,content:!0}),f=Q(g),_=A(g,"META",{property:!0,content:!0}),I=Q(g),T=A(g,"META",{property:!0,content:!0}),L=Q(g),V=A(g,"META",{name:!0,content:!0}),p=Q(g),b=A(g,"META",{property:!0,content:!0}),w=Q(g),E=A(g,"META",{name:!0,content:!0}),F=Q(g),G=A(g,"META",{name:!0,content:!0}),X=Q(g),Z=A(g,"META",{name:!0,content:!0}),this.h()},h(){var g,v,k,z,J,ne,K,te,re,H,oe,ae,_e,ke;h(t,"name","description"),h(t,"content",s=((v=(g=i[2])==null?void 0:g.meta)==null?void 0:v.description)||Le),h(a,"property","og:url"),h(a,"content",r=i[9].url.origin),h(c,"property","og:title"),h(c,"content",o=((z=(k=i[2])==null?void 0:k.meta)==null?void 0:z.title)||De),h(_,"property","og:description"),h(_,"content",d=((ne=(J=i[2])==null?void 0:J.meta)==null?void 0:ne.description)||Le),h(T,"property","og:image"),h(T,"content",N=((te=(K=i[2])==null?void 0:K.meta)==null?void 0:te.cover)||Be),h(V,"name","twitter:card"),h(V,"content","summary_large_image"),h(b,"property","twitter:url"),h(b,"content",y=i[9].url.origin),h(E,"name","twitter:title"),h(E,"content",D=((H=(re=i[2])==null?void 0:re.meta)==null?void 0:H.title)||De),h(G,"name","twitter:description"),h(G,"content",S=((ae=(oe=i[2])==null?void 0:oe.meta)==null?void 0:ae.description)||Le),h(Z,"name","twitter:image"),h(Z,"content",le=((ke=(_e=i[2])==null?void 0:_e.meta)==null?void 0:ke.cover)||Be)},m(g,v){P(g,l,v),P(g,t,v),P(g,n,v),P(g,a,v),P(g,u,v),P(g,c,v),P(g,f,v),P(g,_,v),P(g,I,v),P(g,T,v),P(g,L,v),P(g,V,v),P(g,p,v),P(g,b,v),P(g,w,v),P(g,E,v),P(g,F,v),P(g,G,v),P(g,X,v),P(g,Z,v)},p(g,v){var k,z,J,ne,K,te,re,H,oe,ae,_e,ke,Ae,Me,Ce,Te;v&4&&e!==(e=((z=(k=g[2])==null?void 0:k.meta)==null?void 0:z.title)||De)&&(document.title=e),v&4&&s!==(s=((ne=(J=g[2])==null?void 0:J.meta)==null?void 0:ne.description)||Le)&&h(t,"content",s),v&512&&r!==(r=g[9].url.origin)&&h(a,"content",r),v&4&&o!==(o=((te=(K=g[2])==null?void 0:K.meta)==null?void 0:te.title)||De)&&h(c,"content",o),v&4&&d!==(d=((H=(re=g[2])==null?void 0:re.meta)==null?void 0:H.description)||Le)&&h(_,"content",d),v&4&&N!==(N=((ae=(oe=g[2])==null?void 0:oe.meta)==null?void 0:ae.cover)||Be)&&h(T,"content",N),v&512&&y!==(y=g[9].url.origin)&&h(b,"content",y),v&4&&D!==(D=((ke=(_e=g[2])==null?void 0:_e.meta)==null?void 0:ke.title)||De)&&h(E,"content",D),v&4&&S!==(S=((Me=(Ae=g[2])==null?void 0:Ae.meta)==null?void 0:Me.description)||Le)&&h(G,"content",S),v&4&&le!==(le=((Te=(Ce=g[2])==null?void 0:Ce.meta)==null?void 0:Te.cover)||Be)&&h(Z,"content",le)},d(g){g&&m(l),g&&m(t),g&&m(n),g&&m(a),g&&m(u),g&&m(c),g&&m(f),g&&m(_),g&&m(I),g&&m(T),g&&m(L),g&&m(V),g&&m(p),g&&m(b),g&&m(w),g&&m(E),g&&m(F),g&&m(G),g&&m(X),g&&m(Z)}}}function Vl(i){let e,l,t,s,n,a,r,u;Bt(i[18]);const c=[Ol,Cl,Ml],o=[];function f(d,I){return d[2]==null&&d[3]==null?0:d[3]==null?1:2}l=f(i),t=o[l]=c[l](i);let _=i[2]!=null&&Nt(i);return{c(){e=q("div"),t.c(),s=Y(),_&&_.c(),n=W()},l(d){e=A(d,"DIV",{});var I=O(e);t.l(I),I.forEach(m),s=Q(d);const T=Gt("svelte-hn2qma",document.head);_&&_.l(T),n=W(),T.forEach(m)},m(d,I){P(d,e,I),o[l].m(e,null),P(d,s,I),_&&_.m(document.head,null),M(document.head,n),a=!0,r||(u=[R(window,"resize",i[14]),R(window,"click",i[14]),R(window,"resize",i[18])],r=!0)},p(d,[I]){let T=l;l=f(d),l===T?o[l].p(d,I):(fe(),U(o[T],1,1,()=>{o[T]=null}),ue(),t=o[l],t?t.p(d,I):(t=o[l]=c[l](d),t.c()),C(t,1),t.m(e,null)),d[2]!=null?_?_.p(d,I):(_=Nt(d),_.c(),_.m(n.parentNode,n)):_&&(_.d(1),_=null)},i(d){a||(C(t),a=!0)},o(d){U(t),a=!1},d(d){d&&m(e),o[l].d(),d&&m(s),_&&_.d(d),m(n),r=!1,ze(u)}}}function Bl(i,e,l){let t,s,n,a,r,u;ie(i,Xt,B=>l(9,t=B)),ie(i,$e,B=>l(10,s=B)),ie(i,Je,B=>l(16,n=B)),ie(i,Ue,B=>l(11,r=B)),ie(i,Ne,B=>l(12,u=B));let{data:c}=e,o,f,_=[],d,I,T=[],N=[],L,V;const p=ve(!1);ie(i,p,B=>l(27,a=B));const b=()=>{se(p,a=!0,a)};Re(async()=>{l(2,_=[...c.posts].find($=>$.path.includes(t.params.slug))),l(4,I=await dl(_.text)),l(5,T=I.filter($=>!$.set).map($=>{var g;return`${ce}/resources/${(g=$.data)==null?void 0:g["o:id"]}`})),l(3,d=await Ot(I)),se($e,s=d,s);const B=localStorage.getItem("selectedLanguage");l(6,N=c.posts.reduce(($,g)=>(!g.path.includes(t.params.slug)&&g.meta.lang==B&&g.links.map(v=>{const k=$.find(J=>J.id===v),z={title:g.meta.title,url:g.path};k?k.essays.some(J=>J.title===z.title&&J.url===z.url)||k.essays.push(z):$.push({id:v,essays:[z]})}),$),[]))});function y(B){Ge.call(this,i,B)}function w(){l(0,o=window.innerWidth)}function E(B){we[B?"unshift":"push"](()=>{f=B,l(1,f)})}const D=()=>{b(),se(Ne,u=!1,u),l(8,V=f==null?void 0:f.scrollTop)},F=()=>{o<1e3&&(b(),l(8,V=f==null?void 0:f.scrollTop),se(Ne,u=!1,u))},G=()=>{o>1e3&&se(Ne,u=!0,u)},S=()=>{se(Ue,r=L==null?void 0:L.scrollLeft,r)},X=()=>{se(Ue,r=L==null?void 0:L.scrollLeft,r),b()},Z=()=>{b()};function le(B){we[B?"unshift":"push"](()=>{L=B,l(7,L)})}return i.$$set=B=>{"data"in B&&l(15,c=B.data)},i.$$.update=()=>{i.$$.dirty&65536&&b()},[o,f,_,d,I,T,N,L,V,t,s,r,u,p,b,c,n,y,w,E,D,F,G,S,X,Z,le]}class Hl extends Ee{constructor(e){super(),Pe(this,e,Bl,Vl,Se,{data:15})}}export{Hl as component,Xl as universal};
