import{S as D,i as N,s as j,k as d,l as p,m as A,h,n as u,b as M,H as L,J as re,e as C,q as z,a as T,r as V,c as H,p as J,G as _,u as q,K,L as Q,M as F,N as ce,O as ue,g as I,d as P,f as fe,I as me,o as he,w as ge,P as _e,y as O,z as G,A as R,Q as de,B as U,v as pe}from"../chunks/index.19860723.js";import{p as ve}from"../chunks/stores.6b8a72b6.js";import{e as W}from"../chunks/singletons.b655730f.js";import{c as X,t as S,l as oe,d as be,a as B,i as Y}from"../chunks/setup.158a0fb1.js";const je=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Z(s,e,t){const l=s.slice();return l[2]=e[t],l}function $(s){let e,t,l,n=s[2].meta.title+"",a,i,o,c,g,m=s[2].meta.cover&&x(s),r=s[2].meta.description&&ee(s);return{c(){e=d("a"),t=d("div"),l=d("h2"),a=z(n),i=T(),m&&m.c(),o=T(),r&&r.c(),c=T(),this.h()},l(f){e=p(f,"A",{href:!0,target:!0,class:!0});var v=A(e);t=p(v,"DIV",{class:!0,style:!0});var E=A(t);l=p(E,"H2",{class:!0});var y=A(l);a=V(y,n),y.forEach(h),i=H(E),m&&m.l(E),o=H(E),r&&r.l(E),E.forEach(h),c=H(v),v.forEach(h),this.h()},h(){u(l,"class","svelte-mhwrab"),u(t,"class","column svelte-mhwrab"),J(t,"--meta-color",s[2].meta.color),u(e,"href",g=""+(W+s[2].path)),u(e,"target","_self"),u(e,"class","svelte-mhwrab")},m(f,v){M(f,e,v),_(e,t),_(t,l),_(l,a),_(t,i),m&&m.m(t,null),_(t,o),r&&r.m(t,null),_(e,c)},p(f,v){v&1&&n!==(n=f[2].meta.title+"")&&q(a,n),f[2].meta.cover?m?m.p(f,v):(m=x(f),m.c(),m.m(t,o)):m&&(m.d(1),m=null),f[2].meta.description?r?r.p(f,v):(r=ee(f),r.c(),r.m(t,null)):r&&(r.d(1),r=null),v&1&&J(t,"--meta-color",f[2].meta.color),v&1&&g!==(g=""+(W+f[2].path))&&u(e,"href",g)},d(f){f&&h(e),m&&m.d(),r&&r.d()}}}function x(s){let e,t,l;return{c(){e=d("img"),this.h()},l(n){e=p(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){K(e.src,t=s[2].meta.cover)||u(e,"src",t),u(e,"alt",l=s[2].meta.title),u(e,"class","svelte-mhwrab")},m(n,a){M(n,e,a)},p(n,a){a&1&&!K(e.src,t=n[2].meta.cover)&&u(e,"src",t),a&1&&l!==(l=n[2].meta.title)&&u(e,"alt",l)},d(n){n&&h(e)}}}function ee(s){let e,t=s[2].meta.description+"";return{c(){e=d("div"),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=A(e);n.forEach(h),this.h()},h(){u(e,"class","text svelte-mhwrab")},m(l,n){M(l,e,n),e.innerHTML=t},p(l,n){n&1&&t!==(t=l[2].meta.description+"")&&(e.innerHTML=t)},d(l){l&&h(e)}}}function te(s){let e,t=s[2].meta.isPublic&&s[2].meta.lang==s[1]&&$(s);return{c(){t&&t.c(),e=C()},l(l){t&&t.l(l),e=C()},m(l,n){t&&t.m(l,n),M(l,e,n)},p(l,n){l[2].meta.isPublic&&l[2].meta.lang==l[1]?t?t.p(l,n):(t=$(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&h(e)}}}function ke(s){let e,t=s[0].posts,l=[];for(let n=0;n<t.length;n+=1)l[n]=te(Z(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=p(n,"DIV",{class:!0});var a=A(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(h),this.h()},h(){u(e,"class","columns svelte-mhwrab")},m(n,a){M(n,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,[a]){if(a&3){t=n[0].posts;let i;for(i=0;i<t.length;i+=1){const o=Z(n,t,i);l[i]?l[i].p(o,a):(l[i]=te(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},i:L,o:L,d(n){n&&h(e),re(l,n)}}}function Ee(s,e,t){let{data:l}=e,{lang:n}=e;return s.$$set=a=>{"data"in a&&t(0,l=a.data),"lang"in a&&t(1,n=a.lang)},[l,n]}class we extends D{constructor(e){super(),N(this,e,Ee,ke,j,{data:0,lang:1})}}function le(s){let e,t=s[2][s[1]]+"",l;return{c(){e=d("h3"),l=z(t),this.h()},l(n){e=p(n,"H3",{class:!0});var a=A(e);l=V(a,t),a.forEach(h),this.h()},h(){u(e,"class","svelte-hlg6w7")},m(n,a){M(n,e,a),_(e,l)},p(n,a){a&6&&t!==(t=n[2][n[1]]+"")&&q(l,t)},d(n){n&&h(e)}}}function ye(s){let e,t,l,n,a=s[2][s[1]]&&le(s);return{c(){e=d("header"),t=d("h1"),l=z(s[0]),n=T(),a&&a.c(),this.h()},l(i){e=p(i,"HEADER",{class:!0});var o=A(e);t=p(o,"H1",{});var c=A(t);l=V(c,s[0]),c.forEach(h),n=H(o),a&&a.l(o),o.forEach(h),this.h()},h(){u(e,"class","svelte-hlg6w7")},m(i,o){M(i,e,o),_(e,t),_(t,l),_(e,n),a&&a.m(e,null)},p(i,[o]){o&1&&q(l,i[0]),i[2][i[1]]?a?a.p(i,o):(a=le(i),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:L,o:L,d(i){i&&h(e),a&&a.d()}}}function Me(s,e,t){let{title:l}=e,{lang:n}=e,{description:a}=e;return s.$$set=i=>{"title"in i&&t(0,l=i.title),"lang"in i&&t(1,n=i.lang),"description"in i&&t(2,a=i.description)},[l,n,a]}class Ae extends D{constructor(e){super(),N(this,e,Me,ye,j,{title:0,lang:1,description:2})}}function ne(s,e,t){const l=s.slice();return l[5]=e[t],l}function ae(s){let e,t=s[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=se(ne(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=p(n,"DIV",{class:!0});var a=A(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(h),this.h()},h(){u(e,"class","svelte-3a7y0z")},m(n,a){M(n,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(n,a){if(a&7){t=n[1];let i;for(i=0;i<t.length;i+=1){const o=ne(n,t,i);l[i]?l[i].p(o,a):(l[i]=se(o),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&h(e),re(l,n)}}}function se(s){let e,t=s[5].toUpperCase()+"",l,n,a,i;function o(){return s[3](s[5])}function c(){return s[4](s[5])}return{c(){e=d("span"),l=z(t),this.h()},l(g){e=p(g,"SPAN",{disabled:!0,class:!0});var m=A(e);l=V(m,t),m.forEach(h),this.h()},h(){u(e,"disabled",n=s[0]===s[5]),u(e,"class","svelte-3a7y0z"),Q(e,"selected",s[0]===s[5])},m(g,m){M(g,e,m),_(e,l),a||(i=[F(e,"click",o),F(e,"keydown",c)],a=!0)},p(g,m){s=g,m&2&&t!==(t=s[5].toUpperCase()+"")&&q(l,t),m&3&&n!==(n=s[0]===s[5])&&u(e,"disabled",n),m&3&&Q(e,"selected",s[0]===s[5])},d(g){g&&h(e),a=!1,ce(i)}}}function Te(s){let e,t=s[1].length>1&&ae(s);return{c(){t&&t.c(),e=C()},l(l){t&&t.l(l),e=C()},m(l,n){t&&t.m(l,n),M(l,e,n)},p(l,[n]){l[1].length>1?t?t.p(l,n):(t=ae(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(l){t&&t.d(l),l&&h(e)}}}function He(s,e,t){let{lang:l}=e,{languages:n}=e;function a(c){t(0,l=c),localStorage.setItem("selectedLanguage",c)}const i=c=>a(c),o=c=>a(c);return s.$$set=c=>{"lang"in c&&t(0,l=c.lang),"languages"in c&&t(1,n=c.languages)},[l,n,a,i,o]}class Ie extends D{constructor(e){super(),N(this,e,He,Te,j,{lang:0,languages:1})}}function ie(s){let e,t,l,n,a,i,o,c;function g(r){s[3](r)}let m={languages:oe};return s[1]!==void 0&&(m.lang=s[1]),t=new Ie({props:m}),ge.push(()=>_e(t,"lang",g)),a=new Ae({props:{essays:s[0].posts.filter(s[4]).length,lang:s[1],description:be,title:S}}),o=new we({props:{data:s[0],lang:s[1]}}),{c(){e=d("article"),O(t.$$.fragment),n=T(),O(a.$$.fragment),i=T(),O(o.$$.fragment),this.h()},l(r){e=p(r,"ARTICLE",{style:!0});var f=A(e);G(t.$$.fragment,f),n=H(f),G(a.$$.fragment,f),i=H(f),G(o.$$.fragment,f),f.forEach(h),this.h()},h(){J(e,"--theme-color","blue")},m(r,f){M(r,e,f),R(t,e,null),_(e,n),R(a,e,null),_(e,i),R(o,e,null),c=!0},p(r,f){const v={};!l&&f&2&&(l=!0,v.lang=r[1],de(()=>l=!1)),t.$set(v);const E={};f&3&&(E.essays=r[0].posts.filter(r[4]).length),f&2&&(E.lang=r[1]),a.$set(E);const y={};f&1&&(y.data=r[0]),f&2&&(y.lang=r[1]),o.$set(y)},i(r){c||(I(t.$$.fragment,r),I(a.$$.fragment,r),I(o.$$.fragment,r),c=!0)},o(r){P(t.$$.fragment,r),P(a.$$.fragment,r),P(o.$$.fragment,r),c=!1},d(r){r&&h(e),U(t),U(a),U(o)}}}function Le(s){let e,t,l,n,a,i,o,c,g,m,r,f,v,E,y,b=X&&s[1]&&s[0].posts.length>0&&ie(s);return document.title=t=S,{c(){b&&b.c(),e=T(),l=d("meta"),n=d("meta"),i=d("meta"),o=d("meta"),c=d("meta"),g=d("meta"),m=d("meta"),f=d("meta"),v=d("meta"),E=d("meta"),this.h()},l(w){b&&b.l(w),e=H(w);const k=ue("svelte-151sjl4",document.head);l=p(k,"META",{name:!0,content:!0}),n=p(k,"META",{property:!0,content:!0}),i=p(k,"META",{property:!0,content:!0}),o=p(k,"META",{property:!0,content:!0}),c=p(k,"META",{property:!0,content:!0}),g=p(k,"META",{name:!0,content:!0}),m=p(k,"META",{property:!0,content:!0}),f=p(k,"META",{name:!0,content:!0}),v=p(k,"META",{name:!0,content:!0}),E=p(k,"META",{name:!0,content:!0}),k.forEach(h),this.h()},h(){u(l,"name","description"),u(l,"content",B),u(n,"property","og:url"),u(n,"content",a=s[2].url.origin),u(i,"property","og:title"),u(i,"content",S),u(o,"property","og:description"),u(o,"content",B),u(c,"property","og:image"),u(c,"content",Y),u(g,"name","twitter:card"),u(g,"content","summary_large_image"),u(m,"property","twitter:url"),u(m,"content",r=s[2].url.origin),u(f,"name","twitter:title"),u(f,"content",S),u(v,"name","twitter:description"),u(v,"content",B),u(E,"name","twitter:image"),u(E,"content",Y)},m(w,k){b&&b.m(w,k),M(w,e,k),_(document.head,l),_(document.head,n),_(document.head,i),_(document.head,o),_(document.head,c),_(document.head,g),_(document.head,m),_(document.head,f),_(document.head,v),_(document.head,E),y=!0},p(w,[k]){X&&w[1]&&w[0].posts.length>0?b?(b.p(w,k),k&3&&I(b,1)):(b=ie(w),b.c(),I(b,1),b.m(e.parentNode,e)):b&&(pe(),P(b,1,1,()=>{b=null}),fe()),(!y||k&0)&&t!==(t=S)&&(document.title=t),(!y||k&4&&a!==(a=w[2].url.origin))&&u(n,"content",a),(!y||k&4&&r!==(r=w[2].url.origin))&&u(m,"content",r)},i(w){y||(I(b),y=!0)},o(w){P(b),y=!1},d(w){b&&b.d(w),w&&h(e),h(l),h(n),h(i),h(o),h(c),h(g),h(m),h(f),h(v),h(E)}}}function Se(s,e,t){let l;me(s,ve,c=>t(2,l=c));let n=[],a="";he(async()=>{const c=await fetch("/api/posts");t(0,n.posts=await c.json(),n);const g=localStorage.getItem("selectedLanguage");g?t(1,a=g):t(1,a=oe[0])});function i(c){a=c,t(1,a)}return[n,a,l,i,c=>c.meta.isPublic&c.meta.lang==a]}class ze extends D{constructor(e){super(),N(this,e,Se,Le,j,{})}}export{ze as component,je as universal};
